---
titleTemplate: "æ€§èƒ½ä¼˜åŒ– - %s"
favicon: /favicon.ico
transition: fade
---

<!-- layout: default, intro, section, items(cols), quote, fact, statement -->

# åšä¸€ä¸ªåˆæ ¼çš„å‰ç«¯æ€§èƒ½å¼€å‘è€…

<div text-center>
  <carbon-user-avatar text-red-400 /><span ml-2 text-orange-500>å±±æ«</span>
</div>
<!-- animate-bounce -->

<!-- å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ä¸€ä½å‰ç«¯çˆ±å¥½è€…ï¼Œä¹Ÿæ˜¯ä¸€ä½æœ‰ç€äº”å¹´ç»éªŒçš„å‰ç«¯å¼€å‘è€…ã€‚ä»Šå¤©æˆ‘æƒ³åˆ†äº«çš„ä¸»é¢˜æ˜¯ï¼šåšä¸€ä¸ªåˆæ ¼çš„å‰ç«¯æ€§èƒ½å¼€å‘è€…ã€‚åœ¨åˆ†äº«å†™ç¨¿ä¹‹å‰ï¼Œæˆ‘è‡ªå·±ä¹Ÿæ€»ç»“äº†ä¸€ä¸‹è¿™äº”å¹´æ¥åšçš„é¡¹ç›®ä»¥åŠé‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œå¸Œæœ›å¤§å®¶ä»Šå¤©èƒ½ä»ä¸­å¸å–ä¸€äº›ç»éªŒï¼Œåœ¨ä»¥åçš„å¼€å‘è¿‡ç¨‹ä¸­é¿å…é‡åˆ°ä¸€äº›é—®é¢˜ -->

<!-- æ€§èƒ½ä¼˜åŒ–ï¼šæ€§èƒ½ ä¼˜åŒ– -->

---

# æ€è€ƒ

è¯•ç€å›é¡¾ä¸€ä¸‹ä½ ä¹‹å‰çš„é¡¹ç›®

<!-- å¸¦ç€é—®é¢˜æ€è€ƒä¸€ä¸‹ -->

- æ€§èƒ½ä¼˜åŒ–æ˜¯ä»€ä¹ˆ

ä»£ç ä¼˜åŒ–ã€ç³»ç»Ÿä¼˜åŒ–ã€æ•ˆç‡æå‡

- æ˜¯å¦é‡åˆ°æ€§èƒ½é—®é¢˜

- å¦‚ä½•è§£å†³æ€§èƒ½é—®é¢˜

- ä¼˜åŒ–çš„ç»“æœæ˜¯ä»€ä¹ˆ

- æ˜¯å¦æœ‰äº§å‡ºå·¥å…·

- å¾—åˆ°çš„å“åº”å¦‚ä½•

---
layout: cover
---

# <carbon-data-share text-red-400 />

<!-- animate-flash -->
<div text-6xl text-orange-400 text-center>å¼€å§‹åˆ†äº«ä¹‹æ—…</div>

---

# åˆ†äº«çº²è¦

<!-- ä»Šå¤©æˆ‘ä¼šå¸¦ç€ä»¥ä¸‹å‡ ç‚¹è¿›è¡Œåˆ†äº« -->

<!-- <v-clicks> -->

- [æ€§èƒ½ä¼˜åŒ–çš„åŸå› ](.)
- [æ€§èƒ½ä¼˜åŒ–çš„è¡¡é‡](.)
- [æ€§èƒ½ä¼˜åŒ–çš„å·¥å…·](.)
- [æ€§èƒ½ä¼˜åŒ–çš„å®æ–½](.)
  - [æ€§èƒ½é¢„ç®—](.)
  - [æ€§èƒ½æ¼”ç»ƒ](.)
- [æ€§èƒ½ä¼˜åŒ–çš„æ¡ˆä¾‹](.)
- [æ€»ç»“](.)
- [Q/A](.)

<!-- </v-clicks> -->

---

# æ€§èƒ½ä¼˜åŒ–çš„åŸå› 

- ç•™ä½ç”¨æˆ·
- ç”¨æˆ·ä½“éªŒ
- è½¬åŒ–ç‡
- å¼€å‘ä½“éªŒ
- å¼€å‘ç»´æŠ¤
- æŒä¹…æ€§

---
layout: two-cols
---

# æ€§èƒ½ä¼˜åŒ–çš„è¡¡é‡

<!-- ä½ çš„é¡¹ç›®æ˜¯å¦éœ€è¦æè‡´çš„ä¼˜åŒ–æ€§èƒ½ï¼Œé’ˆå¯¹çš„äººç¾¤ï¼Œé¡¹ç›®çš„è®¿é—®é‡ -->

<!-- 
PRPL æ¸è¿›å¼çš„ç½‘é¡µæ¨¡å‹
- push å°†å…³é”®çš„èµ„æºæ¨é€ç»™ç”¨æˆ·
- render å°½å¯èƒ½å¿«çš„æ¸²æŸ“é¡µé¢
- precache ä½¿ç”¨ç¼“å­˜
- lazy-load ä½¿ç”¨æ‡’åŠ è½½

RAIL ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æ€§èƒ½æ¨¡å‹
> 0 - 16ms æ¯ç§’æ¸²æŸ“60å¸§ï¼ˆè¶Šå¿«çš„æ—¶é—´æ¸²æŸ“æ›´å¤šçš„å¸§è¶Šå¥½ï¼‰
> 0 - 100ms ç»“æœå³æ—¶å‘ˆç°
> 100 - 1000ms ç»“æœåŸºæœ¬æ˜¯è‡ªç„¶è¿ç»­
> <= 1000ms ç”¨æˆ·çš„æ³¨æ„åŠ›ä¼šè½¬ç§»
> > 1000ms ç”¨æˆ·ä¼šç¦»å¼€é¡µé¢ï¼Œä½“éªŒæ€§å¾ˆå·®

- response 50ms - 100ms å†…å“åº”äº‹ä»¶
- animation 10mså†…ç”Ÿæˆä¸€å¸§ï¼Œæµç•…çš„è§†è§‰æ•ˆæœ
- idle æœ€å¤§é™åº¦å¢åŠ ç©ºé—²æ—¶é—´ï¼Œåˆ©ç”¨ç©ºé—²æ—¶é—´åŠ è½½å…¶ä»–æ•°æ®
- load 5s å†…äº¤ä»˜å†…å®¹å¹¶å®ç°å¯äº¤äº’

layout shift scoreï¼ˆå¯è§†åŒºåŸŸå¤§å°å’Œä¸¤ä¸ªå·²æ¸²æŸ“å¸§ä¹‹é—´çš„å¯è§†åŒºåŸŸä¸ç¨³å®šå…ƒç´ çš„ä½ç§»ï¼‰ = impact fractionï¼ˆä¸ç¨³å®šå…ƒç´ å¯¹ä¸¤å¸§ä¹‹é—´çš„å¯è§†åŒºåŸŸäº§ç”Ÿçš„å½±å“ï¼‰ * distance fractionï¼ˆä¸ç¨³å®šå…ƒç´ åœ¨ä¸€å¸§ä¸­ä½ç§»çš„æœ€å¤§è·ç¦»/å¯è§†åŒºåŸŸçš„æœ€å¤§å°ºå¯¸çº¬åº¦ï¼‰

-->

<div text-2xl text-orange-400>ä¸¤ä¸ªæ¨¡å‹</div>

- PRPL
  - Push å°†å…³é”®çš„èµ„æºæ¨é€ç»™ç”¨æˆ·
  - Render å°½å¯èƒ½å¿«çš„æ¸²æŸ“é¡µé¢
  - Precache ä½¿ç”¨ç¼“å­˜
  - Lazy-load ä½¿ç”¨æ‡’åŠ è½½
- RAIL
  - Response 50ms - 100ms å†…å“åº”äº‹ä»¶
  - Animation 10ms å†…ç”Ÿæˆä¸€å¸§ï¼Œæµç•…çš„è§†è§‰æ•ˆæœ
  - Idle æœ€å¤§é™åº¦å¢åŠ ç©ºé—²æ—¶é—´ï¼ˆåŠ è½½å…¶ä»–æ•°æ®ï¼‰
  - Load 5s å†…äº¤ä»˜å†…å®¹å¹¶å®ç°å¯äº¤äº’

::right::

<div text-2xl text-orange-400>å¤šä¸ªæŒ‡æ ‡</div>

- LCPï¼ˆLargest Content Paintï¼‰
  - ğŸ˜€ <= 2.5s
  - ğŸ™ƒ > 4s
- FIDï¼ˆFirst Input Delayï¼‰
  - ğŸ˜€ <= 300ms
  - ğŸ™ƒ > 600ms
- CLSï¼ˆCumulative Layout Shiftï¼‰
  - ğŸ˜€ <= 0.1
  - ğŸ™ƒ > 0.25
- TBTï¼ˆTotal Blocking Timeï¼‰
  - ğŸ˜€ <= 300ms
  - ğŸ™ƒ > 600ms
- ...

---

# æ€§èƒ½ä¼˜åŒ–çš„å·¥å…·

- Chrome Devtool
  - Performance
  - Lighthouse
  - Performance insights
- [PageSpeed Insights](https://pagespeed.web.dev)
- [Web Vitals](https://github.com/GoogleChrome/web-vitals)
- è‡ªå®šä¹‰å·¥å…·
- [Puppeteer](https://pptr.dev/)

---

# [PageSpeed Insights](https://pagespeed.web.dev)

[ä»¥ä¸‹æ˜¯é€šè¿‡ PageSpeed Insights æµ‹è¯• Vue å®˜ç½‘å¾—åˆ°çš„æ•°æ®](https://pagespeed.web.dev/analysis/https-cn-vuejs-org/5pjw5ehjps?form_factor=desktop)

<img src="/images/vue-page-insights.jpeg" h-80 />

---

# [PageSpeed Insights](https://pagespeed.web.dev)

[ä»¥ä¸‹æ˜¯é€šè¿‡ PageSpeed Insights æµ‹è¯• Vue å®˜ç½‘å¾—åˆ°çš„æ•°æ®](https://pagespeed.web.dev/analysis/https-cn-vuejs-org/5pjw5ehjps?form_factor=desktop)

<img src="/images/vue-page-assets.jpeg" h-80 />

---

# [Web Vitals]((https://github.com/GoogleChrome/web-vitals))

[æ‰‹åŠ¨æ”¶é›†å„ç§æŒ‡æ ‡ Web Vitals](https://github.com/GoogleChrome/web-vitals)

<!-- 
INP interaction to next paint

TTFB
- reduce server response times
- DNS lookup, connection negotiation, network latency, server processing time
-->

```js
import { onLCP, onCLS, onFID, onINP, onFCP, onTTFB } from 'web-vitals';

// largest content paint
onLCP(console.log);
// cumulative layout shift
onCLS(console.log);
// first input delay
onFID(console.log);
// interaction to next paint
onINP(console.log);
// first content paint
onFCP(console.log);
// time to first byte
onTTFB(console.log);
```

---

<!-- 
çŸ¥è¯†ç‚¹
1. DOMHihgResTimeStamp ä¸€ä¸ªå­˜å‚¨ç³»ç»Ÿçº§åˆ«çš„æ¯«ç§’æ•°ï¼ˆå¾®ç§’ æ¯«ç§’ï¼‰
2. performance.now() ä¸å—æ—¶é’Ÿè°ƒæ•´ã€æ—¶é’Ÿå€¾æ–œçš„å½±å“ï¼Œç²¾ç¡®åˆ°å¾®ç§’çº§åˆ«çš„æµ®ç‚¹æ•°ï¼ˆç³»ç»Ÿï¼‰
3. performance.timeOrigin æ–‡æ¡£ä¸Šä¸‹æ–‡åˆ›å»ºçš„å¼€å§‹æ—¶é—´
 -->

# [Performance API](https://developer.mozilla.org/en-US/docs/Web/API/Performance_API)

- [PerformanceObserver](https://developer.mozilla.org/en-US/docs/Web/API/PerformanceObserver)
  - observe
  - takeRecords
  - disconnect
- Performance[Element|Event|Longtask|Mark|Measure|Navigation|Paint|Resource|Server]Timing
- ...

<!--
support entry types

- element
- event
- first-input
- largest-contentful-paint
- layout-shift 
- longtask 
- mark
- measure
- navigation
- paint
- resource

observe options parameters

- buffered ç¼“å†²åŒº
- durationThreshold å»¶è¿Ÿé˜ˆå€¼
- entryTypes[]
- type
-->

```js
const perfObserver = new PerformanceObserver((list) => {
  list.getEntries().forEach(entries => {/* metrics */})
});
perfObserver.observe({ type: 'element|event|fisrt-input|largest-contentful-paint|layout-shift|Â·Â·Â·', buffered: true });
// perfObserver.disconnect();
```

---

# [Puppeteer](https://pptr.dev/)

<!-- playwright -->

- ç”Ÿæˆå¿«ç…§å’Œ PDF
- æŠ“å–ç½‘é¡µå†…å®¹é¢„æ¸²æŸ“
- è‡ªåŠ¨åŒ–æäº¤æµ‹è¯•ï¼ˆé”®ç›˜è¾“å…¥ï¼‰
- æµ‹è¯•æµè§ˆå™¨å¯¹ JavaScript ç‰¹æ€§çš„å…¼å®¹æ€§
- æ•æ‰æ§åˆ¶å°åˆ†ææ€§èƒ½
- æµ‹è¯•æ‰©å±•ç¨‹åº

---

# æ€§èƒ½ä¼˜åŒ–çš„å®æ–½

ä¼˜åŒ–äº§ç”Ÿ -> ä¼˜åŒ–å¼€å§‹ -> ä¼˜åŒ–è¿‡ç¨‹ -> ä¼˜åŒ–ç»“æœ

## å®æ–½ - æ€§èƒ½é¢„ç®—

- é¢†å¯¼å±‚é¢
  - è¯„ä¼°
  - å¿…è¦æ€§
- å›¢é˜Ÿ
  - å¢åŠ è´Ÿæ‹…
  - å½±å“èŠ‚å¥
  - ç»©æ•ˆè¯„ä¼°

---

# å®æ–½ - æ€§èƒ½æ¼”ç»ƒ

è°ƒç ”ç›®å‰æŠ€æœ¯ç¤¾åŒºæ™®éçš„ä¼˜åŒ–æ–¹å¼

- æ—¶é—´è§’åº¦
  - é¦–å±åŠ è½½
  - ç½‘ç»œè¯·æ±‚
  - æ¸²æŸ“
  - è®¡ç®—
- ç©ºé—´è§’åº¦
  - å†…å­˜
  - ç¼“å­˜

---

# æ—¶é—´è§’åº¦ - é¦–å±åŠ è½½

é¡µé¢å°½å¯èƒ½å¿«çš„å±•ç¤ºç»™ç”¨æˆ·çœ‹ï¼Œå‡å°‘ç™½å±æ—¶é—´

- æœåŠ¡ç«¯ï¼ˆSSRï¼‰æ¸²æŸ“ï¼Œå‡å°‘äºŒæ¬¡è¯·æ±‚å’Œæ¸²æŸ“çš„è€—æ—¶
- ä¼˜å…ˆè·å–åŠ è½½é¦–å±å…³é”®èµ„æºï¼ŒæŒ‰éœ€åŠ è½½ï¼ˆDynamic importã€Tree shakingï¼‰
- å›¾ç‰‡æˆ–è€…è§†é¢‘èµ„æºï¼ˆé¢„è§ˆæ˜¾ç¤ºã€æ‡’åŠ è½½ï¼‰
- ç¦»çº¿ç¼“å­˜ï¼Œç”¨äºä¸‹ä¸€æ¬¡çš„é¡µé¢å¿«é€Ÿæ¸²æŸ“ï¼ˆService Workerï¼‰

---

#  æ—¶é—´è§’åº¦ - ç½‘ç»œè¯·æ±‚

- åˆç†ä½¿ç”¨ CDNï¼Œå‡å°‘ç½‘ç»œè¯·æ±‚è€—æ—¶
- ä½¿ç”¨ HTTP2/3ï¼ˆæœåŠ¡ç«¯æ¨é€ã€è¯·æ±‚ä¼˜å…ˆçº§ã€äºŒè¿›åˆ¶å¸§ï¼‰
- Resources Hints(prefetch preload prerender dns-prefetch modulepreload preconnect)
- å¯¹èµ„æºè¿›è¡Œå‹ç¼©ï¼Œå‡å°‘ä¼ è¾“æ•°æ®å¤§å°
- è¯·æ±‚èµ„æºåˆç†çš„æ‹†åˆ†ï¼Œå‡å°‘è¯·æ±‚èµ„æºçš„ä½“ç§¯
- å¯¹è¯·æ±‚è¿›è¡Œä¼˜åŒ–ï¼ˆè¯·æ±‚åˆå¹¶ã€åŸŸååˆ†ç‰‡ï¼‰

---

#  æ—¶é—´è§’åº¦ - æ¸²æŸ“

1. å‡å°‘ DOM æ•°é‡ã€å‡å°‘/åˆå¹¶ DOM æ“ä½œï¼Œå‡å°‘æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹ä¸­çš„è®¡ç®—è€—æ—¶
2. åˆç†ä½¿ç”¨æµè§ˆå™¨ GPU è¿›ç¨‹ï¼ˆé‡ç»˜ å›æµï¼‰ï¼Œæå‡æµè§ˆå™¨æ¸²æŸ“æ•ˆç‡
3. å°†æµè§ˆå™¨å¸§ç‡ä¿æŒåœ¨ 60FPSï¼Œæå‡é¡µé¢äº¤äº’å’Œæ¸²æŸ“çš„æµç•…åº¦ï¼ˆRequestAnimationï¼‰
4. é¢„åŠ è½½èµ„æºï¼Œç©ºé—²æ—¶é—´è·å–åŠ è½½éœ€è¦ç”¨åˆ°çš„èµ„æº

<img src="/images/webkit-render.jpeg" h-60 />

---

#  æ—¶é—´è§’åº¦ - è®¡ç®—

- ç¼“å­˜ç»“æœ
- ä½¿ç”¨æ›´ä¼˜çš„ç®—æ³•å’Œæ•°æ®ç»“æ„ï¼Œæå‡è®¡ç®—æ•ˆç‡
- ä½¿ç”¨æ›´é«˜è¿è¡Œæ•ˆç‡çš„æ–¹å¼ï¼ˆWebassemblyï¼‰
- å°†ä»»åŠ¡è¿›è¡Œæ‹†è§£å¹¶è¡Œï¼Œé™ä½æ•´ä½“è€—æ—¶ï¼Œå‡è½»ä¸»çº¿ç¨‹å‹åŠ›ï¼ˆWeb Workerï¼‰

---

# ç©ºé—´è§’åº¦

1. åˆç†ä½¿ç”¨ç¼“å­˜ï¼ˆLocalStorage, IndexDBï¼‰ï¼ŒåŠæ—¶æ¸…ç†
2. å°½å¯èƒ½å¤ç”¨å¯¹è±¡ï¼Œå‡å°‘å¯¹è±¡çš„åˆ›å»ºï¼Œå‡å°‘å†…å­˜å ç”¨
3. å°½å¯èƒ½å°‘çš„ä½¿ç”¨é—­åŒ…ã€å…¨å±€å˜é‡ï¼Œé¿å…å†…å­˜æ³„æ¼
4. é¿å…å¤æ‚/å¼‚å¸¸çš„é€’å½’è°ƒç”¨ï¼Œé˜²æ­¢æ ˆæº¢å‡º

---

# æ€§èƒ½ä¼˜åŒ–çš„æ¡ˆä¾‹

<!--
- [Immutable JS](https://immutable-js.com/)
- [Rx JS](https://rxjs.dev/)
-->

- [ç¼–ç ](.)
  - æŠ€æœ¯æ ˆé€‰å‹
  - å‡å°‘ä¾èµ–
  - Code Review
  - æå‡æ•ˆç‡
- [Puppeteer](.)
- [å¤§é‡æ•°æ®çš„å¤„ç†](.)
  - è™šæ‹Ÿåˆ—è¡¨
  - Excel åˆå¹¶
- [å†å²é¡¹ç›®çš„æ„å»ºæ¼”è¿›](.)
  - ä¼˜åŒ–
  - ç»“æœ
  - æœªæ¥

---

# æ¡ˆä¾‹ - ç¼–ç 

é¡¹ç›®ä»¥ Vue æŠ€æœ¯æ ˆä¸ºä¸»ï¼ˆWrite Less, Do Moreï¼‰

<div grid grid-cols-2 gap-10>
  <TabList title="æŠ€æœ¯æ ˆ" :list="['Vue2/Vue3', 'Vue-cli/Vite/Nuxt.js/å°ç¨‹åº', 'è‡ªä¸»æ­å»º']" />
  <TabList title="å‡å°‘ä¾èµ–" :list="['æ‹©ä¼˜å¼•å…¥ï¼ˆRxjs Lodashï¼‰', 'å¼•å…¥å…¶ä»–ä¾èµ–åº“çš„å¿…è¦æ€§']" />
  <TabList title="Code Review" :list="['é’ˆå¯¹å·¥å…·ç±»/æ–¹æ³•æµ‹è¯•', 'ç»„ä»¶çš„è§„èŒƒæ€§', 'Vueuseï¼ˆhooksï¼‰', 'åŸå­ CSS']" />
  <TabList title="å·¥å…·" :list="['ä½ä»£ç ']" />
</div>

---
layout: two-cols
---

# æ¡ˆä¾‹ - [Puppeteer](https://pptr.dev/)

<!-- Playwright -->
é¡¹ç›®åˆ©ç”¨ Puppeteer èƒ½åšä»€ä¹ˆ

- å¤„ç† P0 çº§æ•…éšœ
  - é¡µé¢ç™½å±
- æ£€æµ‹é¡µé¢æ€§èƒ½æŒ‡æ ‡
  - Metrics
- è‡ªåŠ¨åŒ–æµ‹è¯•
  - å…³é”®é¡µé¢è¡¨å•æµ‹è¯•
- æ¥å£æµ‹è¯•
  - HTTPRequest
  - HTTPResponse
- é¢„è­¦ä¸ŠæŠ¥
  - é’‰é’‰

::right::

```js
import puppeteer from 'puppeteer';

(async () => {
  const browser = await puppeteer.launch({ headless: false });
  const page = await browser.newPage();

  await page.setViewport({ width: 1440, height: 900 });
  await page.goto("https://erp.xx.xx/login");

  // login
  await page.type("#login-company", "xx");
  await page.type("#login-account", "xx");
  await page.type("#login-password", "xx");
  await page.click("#login-btn");

  page.on("console|pageerror|metrics|request|response", function (result) {
    // handle result
  });

  await page.waitForNavigation();
  await page.waitForNetworkIdle();
  
  // screenshot
  await page.pdf({ path: `./__screenshots__/${Date.now()}.pdf` });
  await page.screenshot({ path: `./__screenshots__/${Date.now()}.png` });
  await browser.close();
})();
```

---

# æ¡ˆä¾‹ - å¤§æ•°æ®çš„å¤„ç†ï¼ˆä¸€ï¼‰

<div text-orange-400 text-2xl>è™šæ‹Ÿåˆ—è¡¨</div>

**ä»¥è™šæ‹Ÿè¡¨æ ¼ä¸ºä¸»**

- æ¨ªå‘
- ç«–å‘
- é«˜åº¦å›ºå®š/åŠ¨æ€é«˜åº¦
- è¡¨æ ¼å¤æ‚æ€§
  - å±•å¼€
  - å•å…ƒæ ¼ç»„ä»¶çš„å¤šæ ·æ€§ï¼ˆè¾“å…¥æ¡†ã€é€‰æ‹©æ¡†ï¼‰
  - å•å…ƒæ ¼åŒå‘ç»‘å®šæ•°æ®
  - æœç´¢

---
layout: two-cols
---

# æ¡ˆä¾‹ - å¤§æ•°æ®çš„å¤„ç†ï¼ˆäºŒï¼‰

<!-- <h1><carbon-websheet text-red-400 /></h1> -->
<div text-orange-400 text-2xl>Excel æ–‡ä»¶åˆå¹¶</div>

**å¤šä¸ªæ–‡ä»¶ç»„åˆæˆä¸€ä¸ªæ–‡ä»¶è¾“å‡ºï¼Œå¹¶æ”¯æŒé“¾æ¥è½¬å›¾ç‰‡**

- åˆ†ç‰‡å¤„ç†
  - æ•°æ®åˆ‡ç‰‡
- è¿›åº¦æ¡å¤„ç†
- å›¾ç‰‡å‹ç¼©
  - Compressor
- åˆ†æ‰¹è¯·æ±‚
  - å¼•å…¥ Web Worker
- æ‰¹æ¬¡è¾“å‡º

::right::

```js
// ä¼ªä»£ç 
import ExcelJS from 'exceljs';

// fileList to array buffer
const workbook = new ExcelJS.Workbook();
await workbook.xlsx.load(buffer);

// worker
const worker = new Worker('xxxx');
worker.onmessage = function onmessage(event) {/* å†™å…¥å›¾ç‰‡ */}

let total = 1e6, sheet = 1e5;
let steps = Math.ceil(total / sheet);

for (let step = 0; step < steps; step += 1) {
  // åˆ†ç‰‡ & è¿›åº¦æ¡å¤„ç†
  for (let rowIdx = ?; rowIdx < ?; rowIdx++) {
    for (let colIdx = ?; colIdx < ?; colIdx++) {
      // å›¾ç‰‡å¤„ç† å‹ç¼©
      worker.postMessage({ rowIdex, colIdex, url});
      // å…¶ä»–æ•°æ®å¤„ç†
    }
  }
}
// write æ‰¹æ¬¡è¾“å‡º
await workbook.xlsx.writeBuffer();
```

---

# æ¡ˆä¾‹ - å†å²é¡¹ç›®çš„æ¼”è¿›

é¡¹ç›®èƒŒæ™¯

<!-- å¾®å‰ç«¯/Module Federation -->

- æŠ€æœ¯æ ˆ jQuery + Vueï¼ˆå­—ç¬¦ä¸²æ¨¡æ¿ï¼‰
- é¡¹ç›®é¡µé¢ 300+
- é¡¹ç›®æ¨¡å— 15+
- æ„å»ºå·¥å…· Gulp
- æ¨¡å—ä¹‹é—´ç›¸äº’ä¾èµ–

```js
// window Vue
const vm = new Vue({
  template: '<div>{{ msg }}</div>',
  data() {
    return {
      msg: 'Hello World',
    };
  },
}).$mount();
// render
document.getElementById('root').appendChild(vm.$el);
```

<!-- éƒ¨åˆ†é‡æ„ -->

<div absolute top-10 right-0 h80 w160>
```mermaid
graph TB
  A[é¡¹ç›®] --> A1[æ¨¡å—1]
  A --> Am[...]
  A --> An[æ¨¡å—n]
  A1 --> B1[é¡µé¢1]
  A1 --> A1m[...]
  A1 --> B2[é¡µé¢2]
  An --> C1[é¡µé¢n]
  An --> A2m[...]
  An --> C2[é¡µé¢n]
```
</div>

---
layout: cover
---

# <carbon-retry-failed text-orange-400 />

```mermaid
gitGraph
  commit
  branch feature_gulp
  commit
  commit tag:"gulp_v0.0.1"
  branch feature_webpack
  commit
  commit
  checkout feature_gulp
  merge feature_webpack
  commit tag:"gulp_webpack_v0.1.0"
  checkout main
  merge feature_gulp
  commit
  commit
```

---

# <carbon-restart text-orange-400 />
<!-- æ„å»ºå·¥å…·çš„ç»“æœ -->

<div flex mb-10 text-4>
  <Badge text-blue-100 title="æ¨¡å—åŒ–"></Badge>
  <Badge text-blue-200 title=".vue æ¨¡æ¿å¼€å‘"></Badge>
  <Badge text-blue-300 title="vue jsx å¼€å‘"></Badge>
  <Badge text-blue-400 title="çƒ­æ›´æ–°"></Badge>
  <Badge text-blue-500 title="çƒ­é‡è½½"></Badge>
  <Badge text-orange-400 title="Tree Shaking"></Badge>
  <Badge text-orange-500 title="Dynamic Import"></Badge>
</div>

- å¾®å‰ç«¯
  - ç‹¬ç«‹çš„æ¨¡å—æ‹†åˆ†å‡ºæ¥ï¼ˆäº’ä¸ä¾èµ–/ä¾èµ–å°ï¼‰
- ESbuild
  - Less
- Webpack
  - dependOn æ‹†åˆ†å…¬å…±æ–‡ä»¶
  - splitChunks æ‹†åˆ†å…¬å…±ä¾èµ–ï¼ˆç²¾ç»†é…ç½®ï¼‰

---

# <carbon-restart text-orange-400 />

```js
module.exports = {
  entry: {
    common1: { import: './src/common1.js' },
    module1: { import: './src/module1.js', dependOn: 'common1' },
    // ...
  },

  optimization: {
    splitChunks: {
      chunks: 'all|async|function|regexp',
      name: 'default',
      // minSize: 0,
      // è‡ªå®šä¹‰
      cacheGroups: {
        vueVendors: {
          test: /[\\/]node_modules[\\/](vue(\.js)?)[\\/]/,
          name: 'vue-vendors',
          chunks: 'all',
          // enforce: true, // boolean
        },
      },
    },
  },
};
```

---
layout: cover
---

# <carbon-pause-future text-orange-400 />

Native è¯­è¨€ç¼–è¯‘çš„æ—¶ä»£ï¼ˆRust, Zig...ï¼‰

- æ’ä»¶çš„å‡çº§
- æ„å»ºå·¥å…·çš„å†ä¼˜åŒ–
  - Turbopack/Rspack

---

# æ€»ç»“

<!-- å›åˆ°æˆ‘ä»¬åˆ†äº«çš„æ ‡é¢˜ï¼Œå¦‚ä½•åšä¸€ä¸ªåˆæ ¼çš„æ€§èƒ½å¼€å‘è€…ï¼Œæˆ‘è§‰å¾—åº”è¯¥åšåˆ°ä»¥ä¸‹å‡ ç‚¹ -->

**æ€§èƒ½ä¼˜åŒ–ä¸ä»…ä»…æ˜¯ä¸€äº›æŒ‡æ ‡çš„ä½“ç°ï¼Œé¡¹ç›®å¯åŠ¨å¼€å‘åˆ°ä¸Šçº¿ç»´æŠ¤çš„æ•´æ¡é“¾è·¯ä¸Šéƒ½å­˜åœ¨ä¼˜åŒ–çš„ç‚¹**

- æå‡ç¼–ç èƒ½åŠ›
- åˆ†ææ€§èƒ½
- æå‡ºã€æ‰¾å‡ºæ€§èƒ½é—®é¢˜
- è§£å†³å­˜åœ¨çš„æ€§èƒ½é—®é¢˜ï¼ˆè½åœ°ï¼‰
- ç»“æœå¯¼å‘
- æ€»ç»“
- æ¨å¹¿

---
layout: two-cols
---

# Thanks

<div text-8xl flex justify-center items-center h-full>Q/A</div>

::right::

<div text-4xl flex justify-center items-center h-full>
  <carbon-logo-wechat text-green-400 />
  <p ml-2>lydfeng1995</p>
</div>
